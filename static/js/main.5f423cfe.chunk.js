(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(57),c=a.n(o),r=(a(67),a(20)),l=a(21),s=a(25),u=a(22),p=a(26),d=a(39),m=(a(68),a(24)),h=a(58),f=a.n(h),b=a(60),g=a.n(b),v=a(61),S=a.n(v);var w=Object(m.withStyles)({root:{flexGrow:1}})(function(e){var t=e.classes;return i.a.createElement("div",{className:t.root},i.a.createElement(f.a,{position:"static",color:"default"},i.a.createElement(g.a,null,i.a.createElement(S.a,{variant:"h6",color:"inherit"},"ArcGIS map with React!"))))}),E=a(38),N=a(27),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleMapLoad=function(e,t){a.setState({map:e,view:t},function(){Object(N.b)(["esri/layers/FeatureLayer","esri/widgets/Search"]).then(function(a){var n=Object(E.a)(a,2),i=n[0],o=n[1],c=new i({url:"https://cohegis.houstontx.gov/cohgispub/rest/services/PD/Neighborhood_Services_wm/MapServer/0",popupTemplate:{title:"{CAMPNAME}",content:[{type:"fields",fieldInfos:[{fieldName:"CAMPNAME",label:"Name"},{fieldName:"DISTNAME",label:"District"},{fieldName:"USER_School_Site_Street_Address",label:"Address"},{fieldName:"USER_School_Site_City",label:"City"},{fieldName:"USER_School_Site_State",label:"State"},{fieldName:"USER_School_Site_Zip",label:"Zip"},{fieldName:"GRADERANGE",label:"Grade Range"}]}],outFields:["USER_School_Principal","Email"],actions:[{id:"email-principal",title:"Email Principal",className:"esri-icon-contact"}]}}),r=new o({view:t,sources:[{featureLayer:c,searchFields:["CAMPNAME"],displayField:"CAMPNAME",exactMatch:!1,placeholder:"Search for School"}],includeDefaultSources:!1});t.ui.add(r,{position:"top-left"}),e.add(c),t.when(function(){var e=t.popup;e.watch("selectedFeature",function(e){e&&(e.getEffectivePopupTemplate().actions.items[0].visible=!!e.attributes.Email)}),e.viewModel.on("trigger-action",function(t){if("email-principal"===t.action.id){var a=e.viewModel.selectedFeature.attributes,n=a.Email,i=a.USER_School_Principal;if(n){var o="mailto:".concat(n,"?subject=ATTN:%20").concat(i?i.trim():"Principal");window.location.href=o}}})})})})},a.state={centerPoint:null,map:null,view:null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;Object(N.b)(["esri/geometry/Point"]).then(function(t){var a=new(0,Object(E.a)(t,1)[0])({latitude:29.7174,longitude:-95.4018});e.setState({centerPoint:a})})}},{key:"render",value:function(){return n.createElement(N.a,{mapProperties:{basemap:"streets"},viewProperties:{center:this.state.centerPoint,zoom:13},onLoad:this.handleMapLoad})}}]),t}(n.Component),A=a(23),_=a.n(A),j=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:"App"},i.a.createElement(w,null),i.a.createElement(_.a,{className:e.blurb,elevation:1},i.a.createElement("p",null,"Built a map using ArcGIS API. It shows all the schools in the Greater Houston Area based on info from Houston's Open Data Portal. Click"," ",i.a.createElement("a",{href:"https://cohgis-mycity.opendata.arcgis.com/datasets/schools?geometry=-103.506%2C28.016%2C-87.686%2C31.356&orderBy=IN_Street&orderByAsc=false",target:"_blank"},"here")," ","to see the data. Check the Actions tab to send an email to the School Principal.")),i.a.createElement(_.a,{className:e.root,elevation:1},i.a.createElement(y,{className:"ReactMap"})))}}]),t}(n.Component),O=Object(m.withStyles)(function(e){return{root:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,margin:10*e.spacing.unit,height:"600px"}),blurb:Object(d.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,margin:10*e.spacing.unit})}})(j);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e,t,a){e.exports=a(138)},67:function(e,t,a){},68:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.5f423cfe.chunk.js.map